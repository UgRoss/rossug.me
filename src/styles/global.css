@import 'tailwindcss';
@import './fonts.css';
@import './post.css';

@plugin "@tailwindcss/typography";

@layer base {
  :root {
    /* Min Content Width */
    --content-width: 25rem;

    /* Typography */
    --font-size-s: 0.8125rem;
    --font-size-m: 0.9375rem;
    --font-size-l: 1.0625rem;

    --font-weight-light: 350;
    --font-weight-regular: 400;
    --font-weight-bold: 500;

    --spacing-s: -0.08em;
    --spacing-m: -0.02em;

    /* Light Mode Colors (Default) */
    --bg: #ffffff;
    --text-primary: rgba(0, 0, 0, 0.85);
    --text-secondary: rgba(0, 0, 0, 0.4);
    --text-tertiary: rgba(0, 0, 0, 0.24);
    --border: rgba(0, 0, 0, 0.1);
    --selection: rgba(0, 0, 0, 0.08);
    --code-bg: rgba(0, 0, 0, 0.04);
    --mark: #f3ffc4;

    /* Syntax Theme  */
    --astro-code-foreground: rgba(0, 0, 0, 0.85);
    --astro-code-background: rgba(0, 0, 0, 0.03);
    --astro-code-token-constant: rgba(0, 0, 0, 0.85);
    --astro-code-token-string: rgba(0, 0, 0, 0.85);
    --astro-code-token-comment: rgba(0, 0, 0, 0.35);
    --astro-code-token-keyword: rgba(0, 0, 0, 0.55);
    --astro-code-token-parameter: rgba(0, 0, 0, 0.85);
    --astro-code-token-function: rgba(0, 0, 0, 0.85);
    --astro-code-token-string-expression: rgba(0, 0, 0, 0.55);
    --astro-code-token-punctuation: rgba(0, 0, 0, 0.55);
    --astro-code-token-link: rgba(0, 0, 0, 0.55);
  }

  /* Light Mode (Explicit) */
  html.light {
    --bg: #ffffff;
    --text-primary: rgba(0, 0, 0, 0.85);
    --text-secondary: rgba(0, 0, 0, 0.4);
    --text-tertiary: rgba(0, 0, 0, 0.24);
    --border: rgba(0, 0, 0, 0.1);
    --selection: rgba(0, 0, 0, 0.08);
    --code-bg: rgba(0, 0, 0, 0.04);
    --mark: #f3ffc4;

    /* Syntax Theme  */
    --astro-code-foreground: rgba(0, 0, 0, 0.85);
    --astro-code-background: rgba(0, 0, 0, 0.03);
    --astro-code-token-constant: rgba(0, 0, 0, 0.85);
    --astro-code-token-string: rgba(0, 0, 0, 0.85);
    --astro-code-token-comment: rgba(0, 0, 0, 0.35);
    --astro-code-token-keyword: rgba(0, 0, 0, 0.5);
    --astro-code-token-parameter: rgba(0, 0, 0, 0.85);
    --astro-code-token-function: rgba(0, 0, 0, 0.85);
    --astro-code-token-string-expression: rgba(0, 0, 0, 0.55);
    --astro-code-token-punctuation: rgba(0, 0, 0, 0.55);
    --astro-code-token-link: rgba(0, 0, 0, 0.55);
  }

  /* Dark Mode (Explicit) */
  html.dark {
    --bg: #1c1c1c;
    --text-primary: rgba(255, 255, 255, 0.9);
    --text-secondary: rgba(255, 255, 255, 0.4);
    --text-tertiary: rgba(255, 255, 255, 0.24);
    --border: rgba(255, 255, 255, 0.1);
    --selection: rgba(255, 255, 255, 0.08);
    --code-bg: rgba(255, 255, 255, 0.04);
    --mark: #545b37;

    /* Syntax Theme  */
    --astro-code-foreground: rgba(255, 255, 255, 0.9);
    --astro-code-background: rgba(255, 255, 255, 0.03);
    --astro-code-token-constant: rgba(255, 255, 255, 0.9);
    --astro-code-token-string: rgba(255, 255, 255, 0.9);
    --astro-code-token-comment: rgba(255, 255, 255, 0.35);
    --astro-code-token-keyword: rgba(255, 255, 255, 0.55);
    --astro-code-token-parameter: rgba(255, 255, 255, 0.9);
    --astro-code-token-function: rgba(255, 255, 255, 0.9);
    --astro-code-token-string-expression: rgba(255, 255, 255, 0.55);
    --astro-code-token-punctuation: rgba(255, 255, 255, 0.55);
    --astro-code-token-link: rgba(255, 255, 255, 0.55);
  }

  html {
    font-family: theme('fontFamily.sans');
    font-size: var(--font-size-m);
    font-weight: var(--font-weight-regular);
    line-height: 1.6;
    letter-spacing: var(--spacing-m);
    background-color: var(--bg);
    color: var(--text-primary);
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-wrap: break-word;
    transition: background-color 0.25s ease;
  }

  .app-wrapper {
    @apply mx-auto px-4 py-6 md:px-8 md:py-10;
  }

  .app-wrapper[data-centered='true'] {
    @apply flex items-center justify-center;
  }

  ::selection {
    background-color: var(--selection);
  }

  a {
    @apply text-[var(--text-primary)] no-underline transition-colors duration-200;
  }

  a:hover {
    @apply text-[var(--text-secondary)];
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-medium;
  }

  code {
    font-family: theme('fontFamily.mono');
  }

  pre {
    @apply overflow-x-auto;
  }
}
