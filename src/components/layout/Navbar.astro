---
import { Home, BookOpen, PenTool, Library } from '@lucide/astro'

// Get the current path to determine active state
const currentPath = Astro.url.pathname

// Navigation items configuration
const navItems = [
  { id: 'home', label: 'Home', icon: Home, path: '/' },
  { id: 'blog', label: 'Blog', icon: PenTool, path: '/blog' },
  { id: 'notes', label: 'Notes', icon: BookOpen, path: '/notes' },
  { id: 'reading', label: 'Reading', icon: Library, path: '/reading' }
]

// Function to check if a nav item is active
const isActive = (path: string) => {
  if (path === '/') {
    return currentPath === '/'
  }
  return currentPath.startsWith(path)
}
---

<nav class="fixed top-8 left-1/2 -translate-x-1/2 z-50">
  <div
    class="flex items-center gap-1 p-1 bg-white/70 backdrop-blur-md border border-neutral-200 rounded-full shadow-lg transition-all hover:shadow-xl dark:bg-neutral-800/70 dark:border-neutral-700"
  >
    {
      navItems.map((item) => {
        const active = isActive(item.path)
        const Icon = item.icon
        return (
          <a
            href={item.path}
            class:list={[
              'flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all',
              active
                ? 'bg-neutral-900 text-white shadow-sm dark:bg-white dark:text-neutral-900'
                : 'text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:text-white dark:hover:bg-neutral-700'
            ]}
          >
            <Icon size={16} />
            <span class="hidden sm:inline">{item.label}</span>
          </a>
        )
      })
    }
  </div>
</nav>
