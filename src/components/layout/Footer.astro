---
import { themeConfig } from '@/config'
import FooterLink from './FooterLink.astro'
import FooterSection from './FooterSection.astro'

const today = new Date()
---

<footer>
  <div class="footer-content">
    <div class="footer-main">
      <FooterSection>
        <div class="copyright">
          <span class="date">
            &copy;
            {today.getFullYear()}
          </span>
          {themeConfig.site.author}
        </div>
      </FooterSection>

      <FooterSection title="Site">
        <FooterLink href="/colophon" label="Colophon" />
        <FooterLink href="/uses" label="Uses" />
      </FooterSection>

      <FooterSection title="Built with">
        <FooterLink href="https://astro.build" label="Astro" external />
        <FooterLink href="https://github.com/the3ash/astro-chiri" label="Chiri" external />
      </FooterSection>
    </div>
  </div>
</footer>

<style>
  footer {
    font-size: var(--font-size-s);
    font-weight: var(--font-weight-light);
    line-height: 1.75;
    color: var(--text-secondary);
    opacity: 0.75;
    margin-top: 4rem;
  }

  .footer-content {
    width: 100%;
  }

  .footer-main {
    display: grid;
    grid-template-columns: 1fr auto auto;
    gap: 2rem;
    align-items: start;
  }

  .copyright {
    white-space: nowrap;
  }

  .copyright .date {
    opacity: 1;
  }

  @media (max-width: 640px) {
    .footer-main {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }
  }
</style>
